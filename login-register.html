<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Firebase Auth - Siddhi Vinayak A-Z Saving Mart</title>
  <link rel="icon" href="/image/favicon.png" type="image/jpeg" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fdf6e3; /* light cream */
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .auth-wrapper {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(233, 78, 27, 0.15); /* soft orange shadow */
      width: 320px;
      text-align: center;
      position: relative; /* fix layering issue */
      z-index: 10; /* above other page elements */
    }

    .brand-logo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #f44336; /* logo red accent */
      margin-bottom: 16px;
      box-shadow: 0 4px 8px rgba(244, 67, 54, 0.14);
      background: #fff;
    }
    
    .mart-name {
    font-weight: bold;
    margin: 0 0 20px 0;
    font-size: 1.25rem;
    color: #e94e1b; /* orange-red brand color */
    text-align: center;
    text-decoration: underline; /* adds underline */
    text-underline-position: under; /* places underline nicely below baseline */
}

    input {
      width: 100%;
      padding: 0.85rem;
      margin: 0.5rem 0;
      border: 1px solid #e94e1b;
      border-radius: 6px;
      font-size: 1rem;
    }

    button {
      width: 100%;
      padding: 0.85rem;
      background: linear-gradient(90deg, #e94e1b, #f6d365); /* orange-yellow gradient */
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 0.3rem;
      transition: background 0.2s;
      font-size: 1rem;
    }

    button:hover {
      background: #e94e1b; /* solid orange */
    }

    .google-btn {
      background: rgb(255, 255, 255);
      color: rgb(10, 62, 232);
      border: 1px solid #e94e1b;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 0.5rem;
      font-weight: normal;
      font-size: 1rem;
    }

    .google-btn img {
      filter: none;
      width: 20px;
      height: 20px;
    }

    .toggle {
      margin-top: 1rem;
      cursor: pointer;
      color: #e94e1b;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div class="auth-wrapper">
    <img src="/image/favicon.png" alt="Brand Logo" class="brand-logo" />
    <h3 class="mart-name">Siddhi Vinayak A-Z Saving Mart</h3> <!-- added mart name -->
    <h2 id="form-title">Login</h2>
    <input type="email" id="email" placeholder="Email" required />
    <input type="password" id="password" placeholder="Password" required />

    <button id="authBtn">Login</button>

    <button class="google-btn" id="googleBtn">
      <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google logo" />
      Sign in with Google
    </button>

    <div class="toggle" id="toggleForm">Don't have an account? Sign up</div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      sendEmailVerification,
      GoogleAuthProvider,
      signInWithPopup,
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD5BXtGVmpV38HpBKGWY4VBa_biwfkRqBc",
      authDomain: "siddhivinayakmart-login-signup.firebaseapp.com",
      projectId: "siddhivinayakmart-login-signup",
      storageBucket: "siddhivinayakmart-login-signup.firebasestorage.app",
      messagingSenderId: "173213379434",
      appId: "1:173213379434:web:fa314ea655888eeb7ed313",
      measurementId: "G-82T71HQNJZ",
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    let isLogin = true;

    const formTitle = document.getElementById("form-title");
    const authBtn = document.getElementById("authBtn");
    const toggleForm = document.getElementById("toggleForm");

    toggleForm.addEventListener("click", () => {
      isLogin = !isLogin;
      formTitle.innerText = isLogin ? "Login" : "Sign Up";
      authBtn.innerText = isLogin ? "Login" : "Register";
      toggleForm.innerText = isLogin ? "Don't have an account? Sign up" : "Already have an account? Login";
    });

    authBtn.addEventListener("click", async () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      try {
        if (isLogin) {
          await signInWithEmailAndPassword(auth, email, password);
          alert("Logged in successfully!");
        } else {
          const userCred = await createUserWithEmailAndPassword(auth, email, password);
          await sendEmailVerification(userCred.user);
          alert("Registered! Please verify your email.");
        }
      } catch (error) {
        alert(error.message);
      }
    });

    document.getElementById("googleBtn").addEventListener("click", async () => {
      try {
        await signInWithPopup(auth, provider);
        alert("Google sign-in successful!");
      } catch (error) {
        alert(error.message);
      }
    });
  </script>
</body>
</html>
